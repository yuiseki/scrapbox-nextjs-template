{"pageProps":{"lines":[{"type":"title","text":"Build Wi-Fi AP with Raspberry Pi"},{"indent":0,"type":"line","nodes":[{"type":"link","raw":"https://www.raspberrypi.com/documentation/computers/configuration.html#setting-up-a-routed-wireless-access-point","pathType":"absolute","href":"https://www.raspberrypi.com/documentation/computers/configuration.html#setting-up-a-routed-wireless-access-point","content":""}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* Install requirements]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"Install requirements","text":"Install requirements"}]}]},{"indent":1,"type":"codeBlock","fileName":"bash","content":"sudo apt update\nsudo apt upgrade\nsudo apt install vim\nsudo apt install -y hostapd dnsmasq\nsudo DEBIAN_FRONTEND=noninteractive apt install -y netfilter-persistent iptables-persistent"},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* Enable [hostapd]]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"Enable ","text":"Enable "},{"type":"link","raw":"[hostapd]","pathType":"relative","href":"hostapd","content":""}]}]},{"indent":1,"type":"codeBlock","fileName":"bash","content":" sudo systemctl unmask hostapd\n sudo systemctl enable hostapd"},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* Setup [DHCP] and [DNS]]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"Setup ","text":"Setup "},{"type":"link","raw":"[DHCP]","pathType":"relative","href":"DHCP","content":""},{"type":"plain","raw":" and ","text":" and "},{"type":"link","raw":"[DNS]","pathType":"relative","href":"DNS","content":""}]}]},{"indent":1,"type":"codeBlock","fileName":"bash","content":"sudo vim /etc/dhcpcd.conf"},{"indent":1,"type":"codeBlock","fileName":"/etc/dhcpcd.conf","content":"interface wlan0\n    static ip_address=192.168.4.1/24\n    nohook wpa_supplicant"},{"indent":1,"type":"codeBlock","fileName":"bash","content":"sudo vim /etc/sysctl.d/routed-ap.conf"},{"indent":1,"type":"codeBlock","fileName":"/etc/sysctl.d/routed-ap.conf","content":"# Enable IPv4 routing\nnet.ipv4.ip_forward=1"},{"indent":1,"type":"codeBlock","fileName":"bash","content":"sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\nsudo netfilter-persistent save"},{"indent":1,"type":"codeBlock","fileName":"bash","content":"sudo mv /etc/dnsmasq.conf /etc/dnsmasq.conf.orig\nsudo vim /etc/dnsmasq.conf"},{"indent":1,"type":"codeBlock","fileName":"/etc/dnsmasq.conf","content":"interface=wlan0 # Listening interface\ndhcp-range=192.168.4.2,192.168.4.20,255.255.255.0,24h\n                # Pool of IP addresses served via DHCP\ndomain=wlan     # Local wireless DNS domain\naddress=/gw.wlan/192.168.4.1\n                # Alias for this router"},{"indent":0,"type":"line","nodes":[]}]},"__N_SSG":true}