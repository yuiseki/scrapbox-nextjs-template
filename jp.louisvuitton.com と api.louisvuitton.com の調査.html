<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/scrapbox-nextjs-template/_next/static/css/e526906cee63a70c.css" as="style"/><link rel="stylesheet" href="/scrapbox-nextjs-template/_next/static/css/e526906cee63a70c.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/scrapbox-nextjs-template/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/scrapbox-nextjs-template/_next/static/chunks/webpack-77cf7057eaa8af67.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/main-74ff521f36b121e0.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/pages/_app-e1055fb9c8d316e9.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/664-41844e7ff48658f9.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/pages/%5Btitle%5D-12c1e5dbd03bca95.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/lbLqM-hhV0_YKU9QP3nmT/_buildManifest.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/lbLqM-hhV0_YKU9QP3nmT/_ssgManifest.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/lbLqM-hhV0_YKU9QP3nmT/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="root"><div><h1>jp.louisvuitton.com と api.louisvuitton.com の調査</h1><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1em"><span style="font-size:1em">課題</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">ルイ・ヴィトンの新作情報に気づけない</span></div><div style="padding:5px 10px"><span style="font-size:1em">ルイ・ヴィトンの新作がすぐ売り切れる</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1em"><span style="font-size:1em">ゴール</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">ルイ・ヴィトンの新作にすぐ気付けるようにする</span></div><div style="padding:5px 10px"><span style="font-size:1em">気になる商品の在庫状況が復活したことにすぐ気付けるようにする</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1em"><span style="font-size:1em">方法</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">jp.louisvuitton.com で発生しているAPI通信を調査する</span></div><div style="padding:5px 10px"><span style="font-size:1em">APIを定期的に呼び出すことで新作情報や在庫状況を監視・通知する</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1em"><span style="font-size:1em">jp.louisvuitton.com 技術構成 概要</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">フロントエンド</span></div><div style="padding:5px 20px"><span style="font-size:1em">Nuxt.jsベース</span></div><div style="padding:5px 30px"><span style="font-size:1em">当然Vue.jsも使われている</span></div><div style="padding:5px 30px"><span style="font-size:1em">SSRが行われている</span></div><div style="padding:5px 10px"><span style="font-size:1em">APIサーバー</span></div><div style="padding:5px 20px"><span style="font-size:1em">Java</span></div><div style="padding:5px 30px"><span style="font-weight:bold;font-size:NaNem"><span style="font-size:1em">Springではなかろうかと推測</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">Webサーバー</span></div><div style="padding:5px 20px"><span style="font-size:1em">apache</span></div><div style="padding:5px 10px"><span style="font-size:1em">CDN</span></div><div style="padding:5px 20px"><span style="font-size:1em">akamai</span></div><div style="padding:5px 30px"><span style="font-size:1em">フロントもAPIもakamaiをproxyしている</span></div><div style="padding:5px 40px"><span style="font-size:1em">akamaiのbot managerを使っている</span></div><div style="padding:5px 50px"><a href="https://www.akamai.com/ja/products/bot-manager">Bot Manager | Akamai</a></div><div style="padding:5px 50px"><span style="font-size:1em">機械的アクセスを繰り返すとBANされる可能性が高い</span></div><div style="padding:5px 60px"><a href="https://cloud.watch.impress.co.jp/docs/news/1076958.html">日本航空がアカマイの「Bot Manager」を採用、予約サイトの迷惑ボットを解消して運用コストを約6割削減 - クラウド Watch</a></div><div style="padding:5px 60px"><a href="https://prtimes.jp/main/html/rd/p/000000019.000031697.html">イープラス、アカマイ「Bot Manager Premier」で転売目的のチケット買い占めを行う悪質ボットの撃退に成功｜アカマイ・テクノロジーズ合同会社のプレスリリース</a></div><div style="padding:5px 30px"><span style="font-size:1em">akamaiの裏側がなんなのかはわからない</span></div><div style="padding:5px 40px"><span style="font-weight:bold;font-size:NaNem"><span style="font-size:1em">AWSかなと推測</span></span></div><div style="padding:5px 40px"><span style="font-size:1em">Red Hatのクラウドだったりする？</span></div><div style="padding:5px 10px"><span style="font-size:1em">DNS</span></div><div style="padding:5px 20px"><span style="font-size:1em">akamai</span></div><div style="padding:5px 30px"><span style="font-size:1em">1997/02/18 05:00:00に取得</span></div><div style="padding:5px 10px"><span style="font-size:1em">その他</span></div><div style="padding:5px 20px"><span style="font-size:1em">求人情報から調査</span></div><div style="padding:5px 30px"><a href="https://jobs.louisvuitton.com/jpn-jp/careers/job-offer/architecte-salesforce-b2c-commercesfcc-fh-null-null-710882">https://jobs.louisvuitton.com/jpn-jp/careers/job-offer/architecte-salesforce-b2c-commercesfcc-fh-null-null-710882</a></div><div style="padding:5px 30px"><a href="https://jobs.louisvuitton.com/jpn-jp/careers/job-offer/senior-manager-network-operations-support-delivery-null-null-709167">https://jobs.louisvuitton.com/jpn-jp/careers/job-offer/senior-manager-network-operations-support-delivery-null-null-709167</a></div><div style="padding:5px 20px"><a href="SAP">SAP</a><span style="font-size:1em">と</span><a href="SalesForce">SalesForce</a><span style="font-size:1em">(SFCC)を使っている</span></div><div style="padding:5px 30px"><span style="font-size:1em">なかなかガッツリSAP使っているように見える</span></div><div style="padding:5px 20px"><span style="font-size:1em">検索は</span><a href="Algolia">Algolia</a></div><div style="padding:5px 20px"><span style="font-size:1em">DBは</span><a href="Oracle SQL Server">Oracle SQL Server</a><span style="font-size:1em">、</span><a href="MySQL">MySQL</a><span style="font-size:1em">、</span><a href="MongoDB">MongoDB</a></div><div style="padding:5px 20px"><span style="font-size:1em">APIサーバーは</span><a href="JBoss Application Server">JBoss Application Server</a><span style="font-size:1em">というものらしい</span></div><div style="padding:5px 30px"><a href="Swagger">Swagger</a><span style="font-size:1em">がどうのという記述もあった</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1em"><span style="font-size:1em">api.louisvuitton.com 調査</span></span></div><div></div><div style="padding:5px 0px"><span style="font-size:1em">概要</span></div><div style="padding:5px 10px"><span style="font-size:1em">商品一覧ページや商品個別ページはAPIでJSONを取得して描画するSPAになっている</span></div><div style="padding:5px 10px"><span style="font-size:1em">LPやナビゲーションまわりだけはSSRされていてAPIがなさそう</span></div><div style="padding:5px 20px"><span style="font-size:1em">アクセシビリティに結構配慮されていてハチャメチャなHTMLにはなっていない印象</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-size:1em">商品filterエンドポイント</span></div><div style="padding:5px 10px"><a href="https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1wl5ky9">https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1wl5ky9</a></div><div style="padding:5px 10px"><a href="https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1fxmcdz?range=12-24">https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1fxmcdz?range=12-24</a></div><div style="padding:5px 10px"><a href="https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1offs1i?range=0-18">https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1offs1i?range=0-18</a></div><div style="padding:5px 10px"><span style="font-size:1em">productIdとskuが含まれている</span></div><div style="padding:5px 20px"><span style="font-size:1em">productIdは色を区別しない製品別のID</span></div><div style="padding:5px 20px"><span style="font-size:1em">skuは色別のユニークID</span></div><div style="padding:5px 10px"><span style="font-size:1em">filterIdが必須だが、有効なfilterIdを一覧するエンドポイントが不明…</span></div><div style="padding:5px 20px"><span style="font-size:1em">filterIdは、categoryIdとは別物</span></div><div style="padding:5px 30px"><span style="font-size:1em">categoryIdで絞り込むエンドポイントもcategoryId一覧エンドポイントも不明だが…</span></div><div style="padding:5px 10px"><span style="font-size:1em">新作コレクションには新しいfilterIdが割り当てられるんだと思われるので、同一のfilterIdを定期監視しても意味なさそう</span></div><div style="padding:5px 10px"><span style="font-size:1em">新作コレクションのfilterIdを得るにはHTMLをスクレイピングするしかないように思われる</span></div><div style="padding:5px 20px"><span style="font-size:1em">サイトがリニューアルしたら壊れそうでいやだなあ…</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-size:1em">検索エンドポイント</span></div><div style="padding:5px 10px"><a href="https://api.louisvuitton.com/api/jpn-jp/catalog/search/a">https://api.louisvuitton.com/api/jpn-jp/catalog/search/a</a></div><div style="padding:5px 10px"><a href="https://api.louisvuitton.com/api/jpn-jp/catalog/search/ア?range=24-48">https://api.louisvuitton.com/api/jpn-jp/catalog/search/ア?range=24-48</a></div><div style="padding:5px 10px"><span style="font-size:1em">このエンドポイントに対して例えばアルファベットとカタカナすべてで検索すれば全商品を網羅できそうだけどpaginateとuniqするのがちょっとだるいな…</span></div><div style="padding:5px 20px"><span style="font-size:1em">大量のアクセスが必要になるのでハイリスク</span></div><div style="padding:5px 10px"><span style="font-size:1em">ソートという概念がなさそう</span></div><div style="padding:5px 20px"><span style="font-size:1em">クエリに対するスコアでソートされてくる？</span></div><div style="padding:5px 10px"><span style="font-size:1em">1文字で検索してもヒットした商品がちゃんと返ってくる</span></div><div style="padding:5px 20px"><span style="font-size:1em">n-gramインデックスになっていそう</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-size:1em">商品画像エンドポイント</span></div><div style="padding:5px 10px"><a href="https://api.louisvuitton.com/api/jpn-jp/catalog/skus/M59793,M59822/otherviews">https://api.louisvuitton.com/api/jpn-jp/catalog/skus/M59793,M59822/otherviews</a></div><div style="padding:5px 10px"><span style="font-size:1em">商品一覧画面でサムネイルをいくつか表示するためのエンドポイント</span></div><div style="padding:5px 10px"><span style="font-size:1em">商品詳細エンドポイントのほうが高画質な商品画像が得られる</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-size:1em">商品詳細エンドポイント</span></div><div style="padding:5px 10px"><span style="font-size:1em">末尾はproductId</span></div><div style="padding:5px 20px"><a href="https://api.louisvuitton.com/api/jpn-jp/catalog/product/nvprod3560025v">https://api.louisvuitton.com/api/jpn-jp/catalog/product/nvprod3560025v</a></div><div style="padding:5px 10px"><span style="font-size:1em">末尾skuでもいける</span></div><div style="padding:5px 20px"><a href="https://api.louisvuitton.com/api/jpn-jp/catalog/product/M77528">https://api.louisvuitton.com/api/jpn-jp/catalog/product/M77528</a></div><div style="padding:5px 10px"><span style="font-size:1em">商品名、商品説明、価格、商品画像が一通り得られる</span></div><div style="padding:5px 20px"><span style="font-size:1em">在庫状況だけ別エンドポイントになっている</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-size:1em">商品在庫状況エンドポイント</span></div><div style="padding:5px 10px"><span style="font-size:1em">末尾はproductId</span></div><div style="padding:5px 20px"><a href="https://api.louisvuitton.com/api/jpn-jp/catalog/availability/nvprod3560025v">https://api.louisvuitton.com/api/jpn-jp/catalog/availability/nvprod3560025v</a></div><div style="padding:5px 10px"><span style="font-size:1em">末尾skuでもいける</span></div><div style="padding:5px 20px"><a href="https://api.louisvuitton.com/api/jpn-jp/catalog/availability/M77528">https://api.louisvuitton.com/api/jpn-jp/catalog/availability/M77528</a></div><div style="padding:5px 10px"><span style="font-size:1em">こいつはレスポンスが遅い</span></div><div style="padding:5px 20px"><span style="font-size:1em">たぶん本当に在庫状況を調べる必要があるが重い処理なのでこれだけ別エンドポイントになっているんだろう</span></div><div style="padding:5px 20px"><span style="font-size:1em">商品マスタDBとは別に流通・在庫状況DBがありそう</span></div><div></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1em"><span style="font-size:1em">jp.louisvuitton.com のJSON</span></span></div><div></div><div style="padding:5px 0px"><span style="font-size:1em">ストーリーJSON</span></div><div style="padding:5px 10px"><a href="https://jp.louisvuitton.com/content/dam/lv/online/stories/Technical/modules-women.json">https://jp.louisvuitton.com/content/dam/lv/online/stories/Technical/modules-women.json</a></div><div style="padding:5px 10px"><span style="font-size:1em">巨大なJSONだけどどう解釈したらいいのか謎</span></div><div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"lines":[{"type":"title","text":"jp.louisvuitton.com と api.louisvuitton.com の調査"},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* 課題]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"課題","text":"課題"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"ルイ・ヴィトンの新作情報に気づけない","text":"ルイ・ヴィトンの新作情報に気づけない"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"ルイ・ヴィトンの新作がすぐ売り切れる","text":"ルイ・ヴィトンの新作がすぐ売り切れる"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* ゴール]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"ゴール","text":"ゴール"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"ルイ・ヴィトンの新作にすぐ気付けるようにする","text":"ルイ・ヴィトンの新作にすぐ気付けるようにする"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"気になる商品の在庫状況が復活したことにすぐ気付けるようにする","text":"気になる商品の在庫状況が復活したことにすぐ気付けるようにする"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* 方法]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"方法","text":"方法"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"jp.louisvuitton.com で発生しているAPI通信を調査する","text":"jp.louisvuitton.com で発生しているAPI通信を調査する"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"APIを定期的に呼び出すことで新作情報や在庫状況を監視・通知する","text":"APIを定期的に呼び出すことで新作情報や在庫状況を監視・通知する"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* jp.louisvuitton.com 技術構成 概要]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"jp.louisvuitton.com 技術構成 概要","text":"jp.louisvuitton.com 技術構成 概要"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"フロントエンド","text":"フロントエンド"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"Nuxt.jsベース","text":"Nuxt.jsベース"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"当然Vue.jsも使われている","text":"当然Vue.jsも使われている"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"SSRが行われている","text":"SSRが行われている"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"APIサーバー","text":"APIサーバー"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"Java","text":"Java"}]},{"indent":3,"type":"line","nodes":[{"type":"decoration","raw":"[- Springではなかろうかと推測]","rawDecos":"-","decos":["-"],"nodes":[{"type":"plain","raw":"Springではなかろうかと推測","text":"Springではなかろうかと推測"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"Webサーバー","text":"Webサーバー"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"apache","text":"apache"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"CDN","text":"CDN"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"akamai","text":"akamai"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"フロントもAPIもakamaiをproxyしている","text":"フロントもAPIもakamaiをproxyしている"}]},{"indent":4,"type":"line","nodes":[{"type":"plain","raw":"akamaiのbot managerを使っている","text":"akamaiのbot managerを使っている"}]},{"indent":5,"type":"line","nodes":[{"type":"link","raw":"[https://www.akamai.com/ja/products/bot-manager Bot Manager | Akamai]","pathType":"absolute","href":"https://www.akamai.com/ja/products/bot-manager","content":"Bot Manager | Akamai"}]},{"indent":5,"type":"line","nodes":[{"type":"plain","raw":"機械的アクセスを繰り返すとBANされる可能性が高い","text":"機械的アクセスを繰り返すとBANされる可能性が高い"}]},{"indent":6,"type":"line","nodes":[{"type":"link","raw":"[https://cloud.watch.impress.co.jp/docs/news/1076958.html 日本航空がアカマイの「Bot Manager」を採用、予約サイトの迷惑ボットを解消して運用コストを約6割削減 - クラウド Watch]","pathType":"absolute","href":"https://cloud.watch.impress.co.jp/docs/news/1076958.html","content":"日本航空がアカマイの「Bot Manager」を採用、予約サイトの迷惑ボットを解消して運用コストを約6割削減 - クラウド Watch"}]},{"indent":6,"type":"line","nodes":[{"type":"link","raw":"[https://prtimes.jp/main/html/rd/p/000000019.000031697.html イープラス、アカマイ「Bot Manager Premier」で転売目的のチケット買い占めを行う悪質ボットの撃退に成功｜アカマイ・テクノロジーズ合同会社のプレスリリース]","pathType":"absolute","href":"https://prtimes.jp/main/html/rd/p/000000019.000031697.html","content":"イープラス、アカマイ「Bot Manager Premier」で転売目的のチケット買い占めを行う悪質ボットの撃退に成功｜アカマイ・テクノロジーズ合同会社のプレスリリース"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"akamaiの裏側がなんなのかはわからない","text":"akamaiの裏側がなんなのかはわからない"}]},{"indent":4,"type":"line","nodes":[{"type":"decoration","raw":"[- AWSかなと推測]","rawDecos":"-","decos":["-"],"nodes":[{"type":"plain","raw":"AWSかなと推測","text":"AWSかなと推測"}]}]},{"indent":4,"type":"line","nodes":[{"type":"plain","raw":"Red Hatのクラウドだったりする？","text":"Red Hatのクラウドだったりする？"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"DNS","text":"DNS"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"akamai","text":"akamai"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"1997/02/18 05:00:00に取得","text":"1997/02/18 05:00:00に取得"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"その他","text":"その他"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"求人情報から調査","text":"求人情報から調査"}]},{"indent":3,"type":"line","nodes":[{"type":"link","raw":"https://jobs.louisvuitton.com/jpn-jp/careers/job-offer/architecte-salesforce-b2c-commercesfcc-fh-null-null-710882","pathType":"absolute","href":"https://jobs.louisvuitton.com/jpn-jp/careers/job-offer/architecte-salesforce-b2c-commercesfcc-fh-null-null-710882","content":""}]},{"indent":3,"type":"line","nodes":[{"type":"link","raw":"https://jobs.louisvuitton.com/jpn-jp/careers/job-offer/senior-manager-network-operations-support-delivery-null-null-709167","pathType":"absolute","href":"https://jobs.louisvuitton.com/jpn-jp/careers/job-offer/senior-manager-network-operations-support-delivery-null-null-709167","content":""}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"[SAP]","pathType":"relative","href":"SAP","content":""},{"type":"plain","raw":"と","text":"と"},{"type":"link","raw":"[SalesForce]","pathType":"relative","href":"SalesForce","content":""},{"type":"plain","raw":"(SFCC)を使っている","text":"(SFCC)を使っている"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"なかなかガッツリSAP使っているように見える","text":"なかなかガッツリSAP使っているように見える"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"検索は","text":"検索は"},{"type":"link","raw":"[Algolia]","pathType":"relative","href":"Algolia","content":""}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"DBは","text":"DBは"},{"type":"link","raw":"[Oracle SQL Server]","pathType":"relative","href":"Oracle SQL Server","content":""},{"type":"plain","raw":"、","text":"、"},{"type":"link","raw":"[MySQL]","pathType":"relative","href":"MySQL","content":""},{"type":"plain","raw":"、","text":"、"},{"type":"link","raw":"[MongoDB]","pathType":"relative","href":"MongoDB","content":""}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"APIサーバーは","text":"APIサーバーは"},{"type":"link","raw":"[JBoss Application Server]","pathType":"relative","href":"JBoss Application Server","content":""},{"type":"plain","raw":"というものらしい","text":"というものらしい"}]},{"indent":3,"type":"line","nodes":[{"type":"link","raw":"[Swagger]","pathType":"relative","href":"Swagger","content":""},{"type":"plain","raw":"がどうのという記述もあった","text":"がどうのという記述もあった"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* api.louisvuitton.com 調査]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"api.louisvuitton.com 調査","text":"api.louisvuitton.com 調査"}]}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"plain","raw":"概要","text":"概要"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"商品一覧ページや商品個別ページはAPIでJSONを取得して描画するSPAになっている","text":"商品一覧ページや商品個別ページはAPIでJSONを取得して描画するSPAになっている"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"LPやナビゲーションまわりだけはSSRされていてAPIがなさそう","text":"LPやナビゲーションまわりだけはSSRされていてAPIがなさそう"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"アクセシビリティに結構配慮されていてハチャメチャなHTMLにはなっていない印象","text":"アクセシビリティに結構配慮されていてハチャメチャなHTMLにはなっていない印象"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"plain","raw":"商品filterエンドポイント","text":"商品filterエンドポイント"}]},{"indent":1,"type":"line","nodes":[{"type":"link","raw":"https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1wl5ky9","pathType":"absolute","href":"https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1wl5ky9","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"link","raw":"https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1fxmcdz?range=12-24","pathType":"absolute","href":"https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1fxmcdz?range=12-24","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"link","raw":"https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1offs1i?range=0-18","pathType":"absolute","href":"https://api.louisvuitton.com/api/jpn-jp/catalog/filter/1offs1i?range=0-18","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"productIdとskuが含まれている","text":"productIdとskuが含まれている"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"productIdは色を区別しない製品別のID","text":"productIdは色を区別しない製品別のID"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"skuは色別のユニークID","text":"skuは色別のユニークID"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"filterIdが必須だが、有効なfilterIdを一覧するエンドポイントが不明…","text":"filterIdが必須だが、有効なfilterIdを一覧するエンドポイントが不明…"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"filterIdは、categoryIdとは別物","text":"filterIdは、categoryIdとは別物"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"categoryIdで絞り込むエンドポイントもcategoryId一覧エンドポイントも不明だが…","text":"categoryIdで絞り込むエンドポイントもcategoryId一覧エンドポイントも不明だが…"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"新作コレクションには新しいfilterIdが割り当てられるんだと思われるので、同一のfilterIdを定期監視しても意味なさそう","text":"新作コレクションには新しいfilterIdが割り当てられるんだと思われるので、同一のfilterIdを定期監視しても意味なさそう"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"新作コレクションのfilterIdを得るにはHTMLをスクレイピングするしかないように思われる","text":"新作コレクションのfilterIdを得るにはHTMLをスクレイピングするしかないように思われる"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"サイトがリニューアルしたら壊れそうでいやだなあ…","text":"サイトがリニューアルしたら壊れそうでいやだなあ…"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"plain","raw":"検索エンドポイント","text":"検索エンドポイント"}]},{"indent":1,"type":"line","nodes":[{"type":"link","raw":"https://api.louisvuitton.com/api/jpn-jp/catalog/search/a","pathType":"absolute","href":"https://api.louisvuitton.com/api/jpn-jp/catalog/search/a","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"link","raw":"https://api.louisvuitton.com/api/jpn-jp/catalog/search/ア?range=24-48","pathType":"absolute","href":"https://api.louisvuitton.com/api/jpn-jp/catalog/search/ア?range=24-48","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"このエンドポイントに対して例えばアルファベットとカタカナすべてで検索すれば全商品を網羅できそうだけどpaginateとuniqするのがちょっとだるいな…","text":"このエンドポイントに対して例えばアルファベットとカタカナすべてで検索すれば全商品を網羅できそうだけどpaginateとuniqするのがちょっとだるいな…"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"大量のアクセスが必要になるのでハイリスク","text":"大量のアクセスが必要になるのでハイリスク"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"ソートという概念がなさそう","text":"ソートという概念がなさそう"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"クエリに対するスコアでソートされてくる？","text":"クエリに対するスコアでソートされてくる？"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"1文字で検索してもヒットした商品がちゃんと返ってくる","text":"1文字で検索してもヒットした商品がちゃんと返ってくる"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"n-gramインデックスになっていそう","text":"n-gramインデックスになっていそう"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"plain","raw":"商品画像エンドポイント","text":"商品画像エンドポイント"}]},{"indent":1,"type":"line","nodes":[{"type":"link","raw":"https://api.louisvuitton.com/api/jpn-jp/catalog/skus/M59793,M59822/otherviews","pathType":"absolute","href":"https://api.louisvuitton.com/api/jpn-jp/catalog/skus/M59793,M59822/otherviews","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"商品一覧画面でサムネイルをいくつか表示するためのエンドポイント","text":"商品一覧画面でサムネイルをいくつか表示するためのエンドポイント"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"商品詳細エンドポイントのほうが高画質な商品画像が得られる","text":"商品詳細エンドポイントのほうが高画質な商品画像が得られる"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"plain","raw":"商品詳細エンドポイント","text":"商品詳細エンドポイント"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"末尾はproductId","text":"末尾はproductId"}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"https://api.louisvuitton.com/api/jpn-jp/catalog/product/nvprod3560025v","pathType":"absolute","href":"https://api.louisvuitton.com/api/jpn-jp/catalog/product/nvprod3560025v","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"末尾skuでもいける","text":"末尾skuでもいける"}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"https://api.louisvuitton.com/api/jpn-jp/catalog/product/M77528","pathType":"absolute","href":"https://api.louisvuitton.com/api/jpn-jp/catalog/product/M77528","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"商品名、商品説明、価格、商品画像が一通り得られる","text":"商品名、商品説明、価格、商品画像が一通り得られる"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"在庫状況だけ別エンドポイントになっている","text":"在庫状況だけ別エンドポイントになっている"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"plain","raw":"商品在庫状況エンドポイント","text":"商品在庫状況エンドポイント"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"末尾はproductId","text":"末尾はproductId"}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"https://api.louisvuitton.com/api/jpn-jp/catalog/availability/nvprod3560025v","pathType":"absolute","href":"https://api.louisvuitton.com/api/jpn-jp/catalog/availability/nvprod3560025v","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"末尾skuでもいける","text":"末尾skuでもいける"}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"https://api.louisvuitton.com/api/jpn-jp/catalog/availability/M77528","pathType":"absolute","href":"https://api.louisvuitton.com/api/jpn-jp/catalog/availability/M77528","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"こいつはレスポンスが遅い","text":"こいつはレスポンスが遅い"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"たぶん本当に在庫状況を調べる必要があるが重い処理なのでこれだけ別エンドポイントになっているんだろう","text":"たぶん本当に在庫状況を調べる必要があるが重い処理なのでこれだけ別エンドポイントになっているんだろう"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"商品マスタDBとは別に流通・在庫状況DBがありそう","text":"商品マスタDBとは別に流通・在庫状況DBがありそう"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* jp.louisvuitton.com のJSON]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"jp.louisvuitton.com のJSON","text":"jp.louisvuitton.com のJSON"}]}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"plain","raw":"ストーリーJSON","text":"ストーリーJSON"}]},{"indent":1,"type":"line","nodes":[{"type":"link","raw":"https://jp.louisvuitton.com/content/dam/lv/online/stories/Technical/modules-women.json","pathType":"absolute","href":"https://jp.louisvuitton.com/content/dam/lv/online/stories/Technical/modules-women.json","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"巨大なJSONだけどどう解釈したらいいのか謎","text":"巨大なJSONだけどどう解釈したらいいのか謎"}]},{"indent":0,"type":"line","nodes":[]}]},"__N_SSG":true},"page":"/[title]","query":{"title":"jp.louisvuitton.com と api.louisvuitton.com の調査"},"buildId":"lbLqM-hhV0_YKU9QP3nmT","assetPrefix":"/scrapbox-nextjs-template","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>