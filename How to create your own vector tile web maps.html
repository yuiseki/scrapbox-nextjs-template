<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/scrapbox-nextjs-template/_next/static/css/e526906cee63a70c.css" as="style"/><link rel="stylesheet" href="/scrapbox-nextjs-template/_next/static/css/e526906cee63a70c.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/scrapbox-nextjs-template/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/scrapbox-nextjs-template/_next/static/chunks/webpack-77cf7057eaa8af67.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/main-74ff521f36b121e0.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/pages/_app-e1055fb9c8d316e9.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/664-41844e7ff48658f9.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/pages/%5Btitle%5D-fcd91769392b963e.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/VxhIUOKDq8cTd4S2_NMpj/_buildManifest.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/VxhIUOKDq8cTd4S2_NMpj/_ssgManifest.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/VxhIUOKDq8cTd4S2_NMpj/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="root"><div><h1>How to create your own vector tile web maps</h1><div></div><div style="padding:5px 0px"><span style="font-size:1em">Hi. Welcome to exciting maze.</span></div><div></div><div style="padding:5px 0px"><span style="font-size:1em">Nowadays, there has been an industry standard process for creating your own vector tile web maps.</span></div><div style="padding:5px 0px"><span style="font-size:1em">This document show that process as step by step.</span></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1.5em"><span style="font-size:1em">TL;DR</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">Read the </span><a href="Dockerfile">Dockerfile</a><span style="font-size:1em"> and </span><a href="Makefile">Makefile</a><span style="font-size:1em"> of this repository</span></div><div style="padding:5px 20px"><a href="https://github.com/yuiseki/vector-tile-builder">GitHub - yuiseki/vector-tile-builder</a></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1.5em"><span style="font-size:1em">Abstruct</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">1. Get *.pbf of </span><a href="OpenStreetMap">OpenStreetMap</a></div><div style="padding:5px 10px"><span style="font-size:1em">2. Generate *.pbf -&gt; *.mbtiles as </span><a href="MBTiles">MBTiles</a><span style="font-size:1em"> with </span><a href="OpenMapTiles">OpenMapTiles</a><span style="font-size:1em"> schema</span></div><div style="padding:5px 10px"><span style="font-size:1em">3. Generate *.mbtiles -&gt; /{z}/{x}/{y}/*.pbf</span></div><div style="padding:5px 10px"><span style="font-size:1em">4. Deploy /{z}/{x}/{y}/*.pbf to server</span></div><div style="padding:5px 10px"><span style="font-size:1em">5. Write </span><a href="TileJSON">TileJSON</a><span style="font-size:1em"> file of your vector tile server and deploy to server</span></div><div style="padding:5px 10px"><span style="font-size:1em">6. Write </span><a href="Mapbox style specification">Mapbox style specification</a><span style="font-size:1em"> file (</span><a href="style.json">style.json</a><span style="font-size:1em">) to styling and displaying your vector tiles</span></div><div style="padding:5px 10px"><span style="font-size:1em">7. Write HTML/CSS/JS that load and draw the maps based on style.json</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1.5em"><span style="font-size:1em">Befor to begin</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">What is </span><a href="vector tile">vector tile</a></div><div style="padding:5px 20px"><span style="font-size:1em">There is a good document on GitHub repository of </span><a href="tilemaker">tilemaker</a></div><div style="padding:5px 30px"><a href="https://github.com/systemed/tilemaker/blob/master/docs/VECTOR_TILES.md">tilemaker/VECTOR_TILES.md at master · systemed/tilemaker · GitHub</a></div><div style="padding:5px 20px"><span style="font-size:1em">Point is below</span></div><div style="padding:5px 30px"><span style="font-size:1em">Vector tile is a binary data format for digital maps</span></div><div style="padding:5px 30px"><span style="font-size:1em">Vector tile has just only data of geometry and attributes</span></div><div style="padding:5px 40px"><span style="font-size:1em">Maps based on vector tile will rendering by browser (or application), based on those geometry and attributes data with style definition</span></div><div style="padding:5px 50px"><span style="font-size:1em">That means vector tile has capability to flexibly customize appearance at rendering time</span></div><div style="padding:5px 60px"><span style="font-size:1em">Digital maps based on image can not change appearance after once generated images</span></div><div style="padding:5px 70px"><span style="font-size:1em">When we want to provide multiple appearance maps, It will require a huge amount of image data</span></div><div style="padding:5px 60px"><span style="font-size:1em">This is advantage of vector tile</span></div><div style="padding:5px 30px"><span style="font-size:1em">Basically, Vector tile has no detailed rule about the data attributes, But there is industry standard data scheme</span></div><div style="padding:5px 40px"><span style="font-size:1em">That is </span><a href="OpenMapTiles">OpenMapTiles</a><span style="font-size:1em"> scheme</span></div><div style="padding:5px 40px"><span style="font-size:1em">We need standard data scheme, Because vector tile file format is too flexible to styling maps by ourself</span></div><div style="padding:5px 50px"><span style="font-size:1em">There is a lot of open source style difinition based on </span><a href="OpenMapTiles">OpenMapTiles</a><span style="font-size:1em"> scheme</span></div><div style="padding:5px 60px"><span style="font-size:1em">We should be riding on the shoulders of giants</span></div><div style="padding:5px 10px"><span style="font-size:1em">Reference</span></div><div style="padding:5px 20px"><a href="https://github.com/mapbox/vector-tile-spec">GitHub - mapbox/vector-tile-spec: Mapbox Vector Tile specification</a></div><div style="padding:5px 20px"><a href="https://openmaptiles.org/schema/">Open vector tile schema for OpenStreetMap layers</a></div><div></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1.5em"><span style="font-size:1em">Get *.pbf of </span><a href="OpenStreetMap">OpenStreetMap</a></span></div><div style="padding:5px 10px"><span style="font-size:1em">Visit </span><a href="https://download.geofabrik.de/">https://download.geofabrik.de/</a></div><div style="padding:5px 10px"><span style="font-size:1em">Select region you want to create maps</span></div><div style="padding:5px 10px"><span style="font-size:1em">Download *.pbf file</span></div><div style="padding:5px 10px"><span style="font-size:1em">NOTE:</span></div><div style="padding:5px 20px"><span style="font-size:1em">What is this site?</span></div><div style="padding:5px 30px"><a href="Geofabrik">Geofabrik</a><span style="font-size:1em"> is a company for-profit based on using </span><a href="OpenStreetMap">OpenStreetMap</a><span style="font-size:1em"> data, but also they offers many free services to the </span><a href="OpenStreetMap">OpenStreetMap</a><span style="font-size:1em"> community</span></div><div style="padding:5px 30px"><span style="font-size:1em">download.geofabrik.de is, Amazingly, provide the free download server of snapshot data of </span><a href="OpenStreetMap">OpenStreetMap</a><span style="font-size:1em"> of whole Earth scale</span></div><div style="padding:5px 20px"><span style="font-size:1em">What is the pbf file?</span></div><div style="padding:5px 30px"><a href="pbf">pbf</a><span style="font-size:1em"> is abbreviation word and file extension of </span><a href="Protocol Buffers">Protocol Buffers</a><span style="font-size:1em"> data</span></div><div style="padding:5px 30px"><span style="font-size:1em">Refecence</span></div><div style="padding:5px 40px"><a href="https://developers.google.com/protocol-buffers">Protocol Buffers | Google Developers</a></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1.5em"><span style="font-size:1em">Generate *.pbf -&gt; *.mbtiles as </span><a href="MBTiles">MBTiles</a><span style="font-size:1em"> with </span><a href="OpenMapTiles">OpenMapTiles</a><span style="font-size:1em"> schema</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">I recommend to use </span><a href="tilemaker">tilemaker</a></div><div style="padding:5px 20px"><a href="https://github.com/systemed/tilemaker">GitHub - systemed/tilemaker: Make OpenStreetMap vector tiles without the stack</a></div><div style="padding:5px 20px"><span style="font-size:1em">This software has capabilities to generate </span><a href="MBTiles">MBTiles</a><span style="font-size:1em"> with </span><a href="OpenMapTiles">OpenMapTiles</a><span style="font-size:1em"> schema from </span><a href="OpenStreetMap">OpenStreetMap</a><span style="font-size:1em"> pbf file without database</span></div><div style="padding:5px 10px"><span style="font-size:1em">Get source code of </span><a href="tilemaker">tilemaker</a></div><div></div><div style="padding:5px 10px"><span style="font-size:1em">If you can successfully make </span><a href="tilemaker">tilemaker</a><span style="font-size:1em">, the command you should run is below:</span></div><div></div><div style="padding:5px 10px"><span style="font-size:1em">I know that make </span><a href="tilemaker">tilemaker</a><span style="font-size:1em"> is quite difficult...</span></div><div style="padding:5px 20px"><span style="font-size:1em">You can use </span><a href="Docker">Docker</a><span style="font-size:1em"> to make </span><a href="tilemaker">tilemaker</a><span style="font-size:1em">. I recommend this way</span></div><div></div><div style="padding:5px 10px"><span style="font-size:1em">If you want to more customize your maps, read the docs of </span><a href="tilemaker">tilemaker</a></div><div style="padding:5px 20px"><a href="https://github.com/systemed/tilemaker/blob/master/docs/CONFIGURATION.md">tilemaker/CONFIGURATION.md at master · systemed/tilemaker · GitHub</a></div><div style="padding:5px 10px"><span style="font-size:1em">NOTE:</span></div><div style="padding:5px 20px"><span style="font-size:1em">What is the </span><a href="MBTiles">MBTiles</a><span style="font-size:1em"> file?</span></div><div style="padding:5px 30px"><a href="MBTiles">MBTiles</a><span style="font-size:1em"> is the file format of storing </span><a href="tilesets">tilesets</a></div><div style="padding:5px 40px"><span style="font-size:1em">In fact, </span><a href="MBTiles">MBTiles</a><span style="font-size:1em"> file is one of </span><a href="SQLite">SQLite</a><span style="font-size:1em"> database file that has some rules for storing </span><a href="tilesets">tilesets</a></div><div style="padding:5px 30px"><span style="font-size:1em">Reference</span></div><div style="padding:5px 40px"><a href="https://github.com/mapbox/mbtiles-spec">GitHub - mapbox/mbtiles-spec: specification documents for the MBTiles tileset format</a></div><div style="padding:5px 40px"><a href="https://docs.mapbox.com/help/glossary/mbtiles/">MBTiles | Help | Mapbox</a></div><div></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1.5em"><span style="font-size:1em">Generate *.mbtiles -&gt; /{z}/{x}/{y}/*.pbf</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">I&#x27;m using </span><a href="tippecanoe">tippecanoe</a></div><div style="padding:5px 20px"><a href="https://github.com/mapbox/tippecanoe">GitHub - mapbox/tippecanoe: Build vector tilesets from large collections of GeoJSON features.</a></div><div style="padding:5px 10px"><span style="font-size:1em">Get source code of </span><a href="tippecanoe">tippecanoe</a></div><div></div><div style="padding:5px 10px"><span style="font-size:1em">Make </span><a href="tippecanoe">tippecanoe</a></div><div style="padding:5px 10px"><span style="font-size:1em">If you can successfully make </span><a href="tippecanoe">tippecanoe</a><span style="font-size:1em">, the command you should run is below:</span></div><div></div><div style="padding:5px 10px"><span style="font-size:1em">I know that make </span><a href="tippecanoe">tippecanoe</a><span style="font-size:1em"> is quite difficult...</span></div><div style="padding:5px 20px"><span style="font-size:1em">You can use </span><a href="Docker">Docker</a><span style="font-size:1em"> to make </span><a href="tippecanoe">tippecanoe</a><span style="font-size:1em">. I recommend this way</span></div><div></div><div style="padding:5px 10px"><span style="font-size:1em">NOTE:</span></div><div style="padding:5px 20px"><span style="font-size:1em">What is this step?</span></div><div style="padding:5px 30px"><span style="font-size:1em">In fact, you can serve directory </span><a href="MBTiles">MBTiles</a><span style="font-size:1em"> file as vector tile server</span></div><div style="padding:5px 30px"><span style="font-size:1em">But that will require keep running some application server that dynamically convert </span><a href="MBTiles">MBTiles</a><span style="font-size:1em"> to /{z}/{x}/{y}/*.pbf</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1.5em"><span style="font-size:1em">Deploy /{z}/{x}/{y}/*.pbf to server</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">I&#x27;m using </span><a href="GitHub Pages">GitHub Pages</a></div><div style="padding:5px 20px"><span style="font-size:1em">For simplify, you might be generate zxy files under the directory that named like </span></div><div style="padding:5px 30px"><span style="font-size:1em"> directory has special meanings on GitHub</span></div><div style="padding:5px 40px"><span style="font-size:1em">You can directly deploy contents of this directory as a GitHub Pages</span></div><div style="padding:5px 10px"><span style="font-weight:bold;font-size:1em"><span style="font-size:1em">Dont forget</span></span><span style="font-size:1em">: You must change settings of </span><span style="font-size:1em"> section of your GitHub repository to publish </span><span style="font-size:1em"> directory</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1.5em"><span style="font-size:1em">Write </span><a href="TileJSON">TileJSON</a><span style="font-size:1em"> file of your vector tile server and deploy to server</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">You can use </span><a href="mbtiles2tilejson">mbtiles2tilejson</a></div><div></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1.5em"><span style="font-size:1em">Write </span><a href="Mapbox style specification">Mapbox style specification</a><span style="font-size:1em"> file (</span><a href="style.json">style.json</a><span style="font-size:1em">) to styling and displaying your vector tiles</span></span></div><div style="padding:5px 10px"><span style="font-size:1em">I&#x27;m using </span><span style="font-size:1em"> based </span><span style="font-size:1em"> that has fixed glyphs issue</span></div><div style="padding:5px 20px"><a href="https://github.com/yuiseki/vector-tile-builder/blob/main/docs/style.json">vector-tile-builder/style.json at main · yuiseki/vector-tile-builder · GitHub</a></div><div style="padding:5px 20px"><span style="font-size:1em">I recommend copy this style.json</span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1.5em"><span style="font-size:1em">Write HTML/CSS/JS that load and draw the maps based on style.json</span></span></div><div></div><div></div><div></div><footer>Edit this page:<!-- --> <!-- --><a href="https://scrapbox.io/yuiseki/How to create your own vector tile web maps">How to create your own vector tile web maps</a></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"lines":[{"type":"title","text":"How to create your own vector tile web maps"},{"indent":0,"type":"line","nodes":[{"type":"plain","raw":"Hi. Welcome to exciting maze.","text":"Hi. Welcome to exciting maze."},{"path":"yuiseki","pathType":"relative","type":"icon","raw":"[yuiseki.icon]"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"plain","raw":"Nowadays, there has been an industry standard process for creating your own vector tile web maps.","text":"Nowadays, there has been an industry standard process for creating your own vector tile web maps."}]},{"indent":0,"type":"line","nodes":[{"type":"plain","raw":"This document show that process as step by step.","text":"This document show that process as step by step."}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[*** TL;DR]","rawDecos":"***","decos":["*-3"],"nodes":[{"type":"plain","raw":"TL;DR","text":"TL;DR"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"Read the ","text":"Read the "},{"type":"link","raw":"[Dockerfile]","pathType":"relative","href":"Dockerfile","content":""},{"type":"plain","raw":" and ","text":" and "},{"type":"link","raw":"[Makefile]","pathType":"relative","href":"Makefile","content":""},{"type":"plain","raw":" of this repository","text":" of this repository"}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"[https://github.com/yuiseki/vector-tile-builder GitHub - yuiseki/vector-tile-builder]","pathType":"absolute","href":"https://github.com/yuiseki/vector-tile-builder","content":"GitHub - yuiseki/vector-tile-builder"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[*** Abstruct]","rawDecos":"***","decos":["*-3"],"nodes":[{"type":"plain","raw":"Abstruct","text":"Abstruct"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"1. Get *.pbf of ","text":"1. Get *.pbf of "},{"type":"link","raw":"[OpenStreetMap]","pathType":"relative","href":"OpenStreetMap","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"2. Generate *.pbf -\u003e *.mbtiles as ","text":"2. Generate *.pbf -\u003e *.mbtiles as "},{"type":"link","raw":"[MBTiles]","pathType":"relative","href":"MBTiles","content":""},{"type":"plain","raw":" with ","text":" with "},{"type":"link","raw":"[OpenMapTiles]","pathType":"relative","href":"OpenMapTiles","content":""},{"type":"plain","raw":" schema","text":" schema"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"3. Generate *.mbtiles -\u003e /{z}/{x}/{y}/*.pbf","text":"3. Generate *.mbtiles -\u003e /{z}/{x}/{y}/*.pbf"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"4. Deploy /{z}/{x}/{y}/*.pbf to server","text":"4. Deploy /{z}/{x}/{y}/*.pbf to server"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"5. Write ","text":"5. Write "},{"type":"link","raw":"[TileJSON]","pathType":"relative","href":"TileJSON","content":""},{"type":"plain","raw":" file of your vector tile server and deploy to server","text":" file of your vector tile server and deploy to server"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"6. Write ","text":"6. Write "},{"type":"link","raw":"[Mapbox style specification]","pathType":"relative","href":"Mapbox style specification","content":""},{"type":"plain","raw":" file (","text":" file ("},{"type":"link","raw":"[style.json]","pathType":"relative","href":"style.json","content":""},{"type":"plain","raw":") to styling and displaying your vector tiles","text":") to styling and displaying your vector tiles"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"7. Write HTML/CSS/JS that load and draw the maps based on style.json","text":"7. Write HTML/CSS/JS that load and draw the maps based on style.json"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[*** Befor to begin]","rawDecos":"***","decos":["*-3"],"nodes":[{"type":"plain","raw":"Befor to begin","text":"Befor to begin"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"What is ","text":"What is "},{"type":"link","raw":"[vector tile]","pathType":"relative","href":"vector tile","content":""},{"type":"helpfeel","raw":"? What is so convenient about it? How should I make it?","text":"What is so convenient about it? How should I make it?"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"There is a good document on GitHub repository of ","text":"There is a good document on GitHub repository of "},{"type":"link","raw":"[tilemaker]","pathType":"relative","href":"tilemaker","content":""}]},{"indent":3,"type":"line","nodes":[{"type":"link","raw":"[https://github.com/systemed/tilemaker/blob/master/docs/VECTOR_TILES.md tilemaker/VECTOR_TILES.md at master · systemed/tilemaker · GitHub]","pathType":"absolute","href":"https://github.com/systemed/tilemaker/blob/master/docs/VECTOR_TILES.md","content":"tilemaker/VECTOR_TILES.md at master · systemed/tilemaker · GitHub"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"Point is below","text":"Point is below"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"Vector tile is a binary data format for digital maps","text":"Vector tile is a binary data format for digital maps"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"Vector tile has just only data of geometry and attributes","text":"Vector tile has just only data of geometry and attributes"}]},{"indent":4,"type":"line","nodes":[{"type":"plain","raw":"Maps based on vector tile will rendering by browser (or application), based on those geometry and attributes data with style definition","text":"Maps based on vector tile will rendering by browser (or application), based on those geometry and attributes data with style definition"}]},{"indent":5,"type":"line","nodes":[{"type":"plain","raw":"That means vector tile has capability to flexibly customize appearance at rendering time","text":"That means vector tile has capability to flexibly customize appearance at rendering time"}]},{"indent":6,"type":"line","nodes":[{"type":"plain","raw":"Digital maps based on image can not change appearance after once generated images","text":"Digital maps based on image can not change appearance after once generated images"}]},{"indent":7,"type":"line","nodes":[{"type":"plain","raw":"When we want to provide multiple appearance maps, It will require a huge amount of image data","text":"When we want to provide multiple appearance maps, It will require a huge amount of image data"}]},{"indent":6,"type":"line","nodes":[{"type":"plain","raw":"This is advantage of vector tile","text":"This is advantage of vector tile"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"Basically, Vector tile has no detailed rule about the data attributes, But there is industry standard data scheme","text":"Basically, Vector tile has no detailed rule about the data attributes, But there is industry standard data scheme"}]},{"indent":4,"type":"line","nodes":[{"type":"plain","raw":"That is ","text":"That is "},{"type":"link","raw":"[OpenMapTiles]","pathType":"relative","href":"OpenMapTiles","content":""},{"type":"plain","raw":" scheme","text":" scheme"}]},{"indent":4,"type":"line","nodes":[{"type":"plain","raw":"We need standard data scheme, Because vector tile file format is too flexible to styling maps by ourself","text":"We need standard data scheme, Because vector tile file format is too flexible to styling maps by ourself"}]},{"indent":5,"type":"line","nodes":[{"type":"plain","raw":"There is a lot of open source style difinition based on ","text":"There is a lot of open source style difinition based on "},{"type":"link","raw":"[OpenMapTiles]","pathType":"relative","href":"OpenMapTiles","content":""},{"type":"plain","raw":" scheme","text":" scheme"}]},{"indent":6,"type":"line","nodes":[{"type":"plain","raw":"We should be riding on the shoulders of giants","text":"We should be riding on the shoulders of giants"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"Reference","text":"Reference"}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"[https://github.com/mapbox/vector-tile-spec GitHub - mapbox/vector-tile-spec: Mapbox Vector Tile specification]","pathType":"absolute","href":"https://github.com/mapbox/vector-tile-spec","content":"GitHub - mapbox/vector-tile-spec: Mapbox Vector Tile specification"}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"[https://openmaptiles.org/schema/ Open vector tile schema for OpenStreetMap layers]","pathType":"absolute","href":"https://openmaptiles.org/schema/","content":"Open vector tile schema for OpenStreetMap layers"}]},{"indent":2,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[*** Get *.pbf of [OpenStreetMap]]","rawDecos":"***","decos":["*-3"],"nodes":[{"type":"plain","raw":"Get *.pbf of ","text":"Get *.pbf of "},{"type":"link","raw":"[OpenStreetMap]","pathType":"relative","href":"OpenStreetMap","content":""}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"Visit ","text":"Visit "},{"type":"link","raw":"https://download.geofabrik.de/","pathType":"absolute","href":"https://download.geofabrik.de/","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"Select region you want to create maps","text":"Select region you want to create maps"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"Download *.pbf file","text":"Download *.pbf file"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"NOTE:","text":"NOTE:"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"What is this site?","text":"What is this site?"}]},{"indent":3,"type":"line","nodes":[{"type":"link","raw":"[Geofabrik]","pathType":"relative","href":"Geofabrik","content":""},{"type":"plain","raw":" is a company for-profit based on using ","text":" is a company for-profit based on using "},{"type":"link","raw":"[OpenStreetMap]","pathType":"relative","href":"OpenStreetMap","content":""},{"type":"plain","raw":" data, but also they offers many free services to the ","text":" data, but also they offers many free services to the "},{"type":"link","raw":"[OpenStreetMap]","pathType":"relative","href":"OpenStreetMap","content":""},{"type":"plain","raw":" community","text":" community"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"download.geofabrik.de is, Amazingly, provide the free download server of snapshot data of ","text":"download.geofabrik.de is, Amazingly, provide the free download server of snapshot data of "},{"type":"link","raw":"[OpenStreetMap]","pathType":"relative","href":"OpenStreetMap","content":""},{"type":"plain","raw":" of whole Earth scale","text":" of whole Earth scale"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"What is the pbf file?","text":"What is the pbf file?"}]},{"indent":3,"type":"line","nodes":[{"type":"link","raw":"[pbf]","pathType":"relative","href":"pbf","content":""},{"type":"plain","raw":" is abbreviation word and file extension of ","text":" is abbreviation word and file extension of "},{"type":"link","raw":"[Protocol Buffers]","pathType":"relative","href":"Protocol Buffers","content":""},{"type":"plain","raw":" data","text":" data"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"Refecence","text":"Refecence"}]},{"indent":4,"type":"line","nodes":[{"type":"link","raw":"[https://developers.google.com/protocol-buffers Protocol Buffers | Google Developers]","pathType":"absolute","href":"https://developers.google.com/protocol-buffers","content":"Protocol Buffers | Google Developers"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[*** Generate *.pbf -\u003e *.mbtiles as [MBTiles] with [OpenMapTiles] schema]","rawDecos":"***","decos":["*-3"],"nodes":[{"type":"plain","raw":"Generate *.pbf -\u003e *.mbtiles as ","text":"Generate *.pbf -\u003e *.mbtiles as "},{"type":"link","raw":"[MBTiles]","pathType":"relative","href":"MBTiles","content":""},{"type":"plain","raw":" with ","text":" with "},{"type":"link","raw":"[OpenMapTiles]","pathType":"relative","href":"OpenMapTiles","content":""},{"type":"plain","raw":" schema","text":" schema"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"I recommend to use ","text":"I recommend to use "},{"type":"link","raw":"[tilemaker]","pathType":"relative","href":"tilemaker","content":""}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"[https://github.com/systemed/tilemaker GitHub - systemed/tilemaker: Make OpenStreetMap vector tiles without the stack]","pathType":"absolute","href":"https://github.com/systemed/tilemaker","content":"GitHub - systemed/tilemaker: Make OpenStreetMap vector tiles without the stack"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"This software has capabilities to generate ","text":"This software has capabilities to generate "},{"type":"link","raw":"[MBTiles]","pathType":"relative","href":"MBTiles","content":""},{"type":"plain","raw":" with ","text":" with "},{"type":"link","raw":"[OpenMapTiles]","pathType":"relative","href":"OpenMapTiles","content":""},{"type":"plain","raw":" schema from ","text":" schema from "},{"type":"link","raw":"[OpenStreetMap]","pathType":"relative","href":"OpenStreetMap","content":""},{"type":"plain","raw":" pbf file without database","text":" pbf file without database"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"Get source code of ","text":"Get source code of "},{"type":"link","raw":"[tilemaker]","pathType":"relative","href":"tilemaker","content":""}]},{"indent":2,"type":"codeBlock","fileName":"bash","content":"git clone git@github.com:systemed/tilemaker.git\ncd tilemaker"},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"If you can successfully make ","text":"If you can successfully make "},{"type":"link","raw":"[tilemaker]","pathType":"relative","href":"tilemaker","content":""},{"type":"plain","raw":", the command you should run is below:","text":", the command you should run is below:"}]},{"indent":2,"type":"codeBlock","fileName":"bash","content":"tilemaker --input tmp/region.pbf --output tmp/region.mbtiles"},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"I know that make ","text":"I know that make "},{"type":"link","raw":"[tilemaker]","pathType":"relative","href":"tilemaker","content":""},{"type":"plain","raw":" is quite difficult...","text":" is quite difficult..."}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"You can use ","text":"You can use "},{"type":"link","raw":"[Docker]","pathType":"relative","href":"Docker","content":""},{"type":"plain","raw":" to make ","text":" to make "},{"type":"link","raw":"[tilemaker]","pathType":"relative","href":"tilemaker","content":""},{"type":"plain","raw":". I recommend this way","text":". I recommend this way"}]},{"indent":2,"type":"codeBlock","fileName":"bash","content":"make clean # dont forget clean if you have tried to make tilemaker on host machine!\ndocker build . -t tilemaker\ndocker run --rm --mount type=bind,source=$(CURDIR)/tmp,target=/tmp tilemaker --input /tmp/region.pbf --output /tmp/region.mbtiles"},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"If you want to more customize your maps, read the docs of ","text":"If you want to more customize your maps, read the docs of "},{"type":"link","raw":"[tilemaker]","pathType":"relative","href":"tilemaker","content":""}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"[https://github.com/systemed/tilemaker/blob/master/docs/CONFIGURATION.md tilemaker/CONFIGURATION.md at master · systemed/tilemaker · GitHub]","pathType":"absolute","href":"https://github.com/systemed/tilemaker/blob/master/docs/CONFIGURATION.md","content":"tilemaker/CONFIGURATION.md at master · systemed/tilemaker · GitHub"}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"NOTE:","text":"NOTE:"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"What is the ","text":"What is the "},{"type":"link","raw":"[MBTiles]","pathType":"relative","href":"MBTiles","content":""},{"type":"plain","raw":" file?","text":" file?"}]},{"indent":3,"type":"line","nodes":[{"type":"link","raw":"[MBTiles]","pathType":"relative","href":"MBTiles","content":""},{"type":"plain","raw":" is the file format of storing ","text":" is the file format of storing "},{"type":"link","raw":"[tilesets]","pathType":"relative","href":"tilesets","content":""}]},{"indent":4,"type":"line","nodes":[{"type":"plain","raw":"In fact, ","text":"In fact, "},{"type":"link","raw":"[MBTiles]","pathType":"relative","href":"MBTiles","content":""},{"type":"plain","raw":" file is one of ","text":" file is one of "},{"type":"link","raw":"[SQLite]","pathType":"relative","href":"SQLite","content":""},{"type":"plain","raw":" database file that has some rules for storing ","text":" database file that has some rules for storing "},{"type":"link","raw":"[tilesets]","pathType":"relative","href":"tilesets","content":""}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"Reference","text":"Reference"}]},{"indent":4,"type":"line","nodes":[{"type":"link","raw":"[https://github.com/mapbox/mbtiles-spec GitHub - mapbox/mbtiles-spec: specification documents for the MBTiles tileset format]","pathType":"absolute","href":"https://github.com/mapbox/mbtiles-spec","content":"GitHub - mapbox/mbtiles-spec: specification documents for the MBTiles tileset format"}]},{"indent":4,"type":"line","nodes":[{"type":"link","raw":"[https://docs.mapbox.com/help/glossary/mbtiles/ MBTiles | Help | Mapbox]","pathType":"absolute","href":"https://docs.mapbox.com/help/glossary/mbtiles/","content":"MBTiles | Help | Mapbox"}]},{"indent":4,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[*** Generate *.mbtiles -\u003e /{z}/{x}/{y}/*.pbf]","rawDecos":"***","decos":["*-3"],"nodes":[{"type":"plain","raw":"Generate *.mbtiles -\u003e /{z}/{x}/{y}/*.pbf","text":"Generate *.mbtiles -\u003e /{z}/{x}/{y}/*.pbf"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"I'm using ","text":"I'm using "},{"type":"link","raw":"[tippecanoe]","pathType":"relative","href":"tippecanoe","content":""}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"[https://github.com/mapbox/tippecanoe GitHub - mapbox/tippecanoe: Build vector tilesets from large collections of GeoJSON features.]","pathType":"absolute","href":"https://github.com/mapbox/tippecanoe","content":"GitHub - mapbox/tippecanoe: Build vector tilesets from large collections of GeoJSON features."}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"Get source code of ","text":"Get source code of "},{"type":"link","raw":"[tippecanoe]","pathType":"relative","href":"tippecanoe","content":""}]},{"indent":2,"type":"codeBlock","fileName":"bash","content":"git clone git@github.com:mapbox/tippecanoe.git\ncd tippecanote"},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"Make ","text":"Make "},{"type":"link","raw":"[tippecanoe]","pathType":"relative","href":"tippecanoe","content":""}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"If you can successfully make ","text":"If you can successfully make "},{"type":"link","raw":"[tippecanoe]","pathType":"relative","href":"tippecanoe","content":""},{"type":"plain","raw":", the command you should run is below:","text":", the command you should run is below:"}]},{"indent":2,"type":"codeBlock","fileName":"bash","content":"tile-join --force --no-tile-compression --no-tile-size-limit --no-tile-stats --output-to-directory=docs/zxy path/to/region.mbtiles"},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"I know that make ","text":"I know that make "},{"type":"link","raw":"[tippecanoe]","pathType":"relative","href":"tippecanoe","content":""},{"type":"plain","raw":" is quite difficult...","text":" is quite difficult..."}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"You can use ","text":"You can use "},{"type":"link","raw":"[Docker]","pathType":"relative","href":"Docker","content":""},{"type":"plain","raw":" to make ","text":" to make "},{"type":"link","raw":"[tippecanoe]","pathType":"relative","href":"tippecanoe","content":""},{"type":"plain","raw":". I recommend this way","text":". I recommend this way"}]},{"indent":2,"type":"codeBlock","fileName":"bash","content":"make clean\ndocker build -t tippecanoe .\ndocker run -it --rm --mount type=bind,source=$(CURDIR)/tmp,target=/tmp tippecanoe tile-join --force --no-tile-compression --no-tile-sizelimit --no-tile-stats --output-to-directory /tmp/zxy /tmp/region.mbtiles\ncp -r tmp/zxy docs/"},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"NOTE:","text":"NOTE:"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"What is this step?","text":"What is this step?"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"In fact, you can serve directory ","text":"In fact, you can serve directory "},{"type":"link","raw":"[MBTiles]","pathType":"relative","href":"MBTiles","content":""},{"type":"plain","raw":" file as vector tile server","text":" file as vector tile server"}]},{"indent":3,"type":"line","nodes":[{"type":"plain","raw":"But that will require keep running some application server that dynamically convert ","text":"But that will require keep running some application server that dynamically convert "},{"type":"link","raw":"[MBTiles]","pathType":"relative","href":"MBTiles","content":""},{"type":"plain","raw":" to /{z}/{x}/{y}/*.pbf","text":" to /{z}/{x}/{y}/*.pbf"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[*** Deploy /{z}/{x}/{y}/*.pbf to server]","rawDecos":"***","decos":["*-3"],"nodes":[{"type":"plain","raw":"Deploy /{z}/{x}/{y}/*.pbf to server","text":"Deploy /{z}/{x}/{y}/*.pbf to server"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"I'm using ","text":"I'm using "},{"type":"link","raw":"[GitHub Pages]","pathType":"relative","href":"GitHub Pages","content":""}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"For simplify, you might be generate zxy files under the directory that named like ","text":"For simplify, you might be generate zxy files under the directory that named like "},{"type":"code","raw":"`docs/zxy/{z}/{x}/{y}/*.pbf`","text":"docs/zxy/{z}/{x}/{y}/*.pbf"}]},{"indent":3,"type":"line","nodes":[{"type":"code","raw":"`docs`","text":"docs"},{"type":"plain","raw":" directory has special meanings on GitHub","text":" directory has special meanings on GitHub"}]},{"indent":4,"type":"line","nodes":[{"type":"plain","raw":"You can directly deploy contents of this directory as a GitHub Pages","text":"You can directly deploy contents of this directory as a GitHub Pages"}]},{"indent":1,"type":"line","nodes":[{"type":"decoration","raw":"[* Dont forget]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"Dont forget","text":"Dont forget"}]},{"type":"plain","raw":": You must change settings of ","text":": You must change settings of "},{"type":"code","raw":"`Pages`","text":"Pages"},{"type":"plain","raw":" section of your GitHub repository to publish ","text":" section of your GitHub repository to publish "},{"type":"code","raw":"`docs`","text":"docs"},{"type":"plain","raw":" directory","text":" directory"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[*** Write [TileJSON] file of your vector tile server and deploy to server]","rawDecos":"***","decos":["*-3"],"nodes":[{"type":"plain","raw":"Write ","text":"Write "},{"type":"link","raw":"[TileJSON]","pathType":"relative","href":"TileJSON","content":""},{"type":"plain","raw":" file of your vector tile server and deploy to server","text":" file of your vector tile server and deploy to server"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"You can use ","text":"You can use "},{"type":"link","raw":"[mbtiles2tilejson]","pathType":"relative","href":"mbtiles2tilejson","content":""}]},{"indent":2,"type":"codeBlock","fileName":"bash","content":"npm i -g mbtiles2tilejson\nmbtiles2tilejson tmp/region.mbtiles --url https://your-github-username.github.io/your-repo-name/zxy/ \u003e docs/tiles.json"},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[*** Write [Mapbox style specification] file ([style.json]) to styling and displaying your vector tiles]","rawDecos":"***","decos":["*-3"],"nodes":[{"type":"plain","raw":"Write ","text":"Write "},{"type":"link","raw":"[Mapbox style specification]","pathType":"relative","href":"Mapbox style specification","content":""},{"type":"plain","raw":" file (","text":" file ("},{"type":"link","raw":"[style.json]","pathType":"relative","href":"style.json","content":""},{"type":"plain","raw":") to styling and displaying your vector tiles","text":") to styling and displaying your vector tiles"}]}]},{"indent":1,"type":"line","nodes":[{"type":"plain","raw":"I'm using ","text":"I'm using "},{"type":"code","raw":"`osm-bright-gl-style`","text":"osm-bright-gl-style"},{"type":"plain","raw":" based ","text":" based "},{"type":"code","raw":"`style.json`","text":"style.json"},{"type":"plain","raw":" that has fixed glyphs issue","text":" that has fixed glyphs issue"}]},{"indent":2,"type":"line","nodes":[{"type":"link","raw":"[https://github.com/yuiseki/vector-tile-builder/blob/main/docs/style.json vector-tile-builder/style.json at main · yuiseki/vector-tile-builder · GitHub]","pathType":"absolute","href":"https://github.com/yuiseki/vector-tile-builder/blob/main/docs/style.json","content":"vector-tile-builder/style.json at main · yuiseki/vector-tile-builder · GitHub"}]},{"indent":2,"type":"line","nodes":[{"type":"plain","raw":"I recommend copy this style.json","text":"I recommend copy this style.json"}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[*** Write HTML/CSS/JS that load and draw the maps based on style.json]","rawDecos":"***","decos":["*-3"],"nodes":[{"type":"plain","raw":"Write HTML/CSS/JS that load and draw the maps based on style.json","text":"Write HTML/CSS/JS that load and draw the maps based on style.json"}]}]},{"indent":1,"type":"codeBlock","fileName":"docs/index.html","content":"\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"ja\"\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"UTF-8\" /\u003e\n    \u003cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /\u003e\n    \u003ctitle\u003eVector tile builder Demo\u003c/title\u003e\n    \u003cscript src=\"https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.js\"\u003e\u003c/script\u003e\n    \u003clink\n      href=\"https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.css\"\n      rel=\"stylesheet\"\n    /\u003e\n    \u003cstyle\u003e\n      html,\n      body,\n      #map {\n        width: 100vw;\n        height: 100vh;\n        padding: 0;\n        margin: 0;\n      }\n    \u003c/style\u003e\n  \u003c/head\u003e\n\n  \u003cbody\u003e\n    \u003cdiv id=\"map\"\u003e\u003c/div\u003e\n    \u003cscript\u003e\n      (async () =\u003e {\n        let map;\n        const res = await fetch(\"./tiles.json\");\n        const tilejson = await res.json();\n        const bounds = tilejson.bounds;\n        const center = tilejson.center\n          ? tilejson.center\n          : [(bounds[0] + bounds[2]) / 2, (bounds[1] + bounds[3]) / 2];\n        const zoom = (tilejson.minzoom + tilejson.maxzoom) / 2;\n        console.log(center, zoom);\n        map = new maplibregl.Map({\n          container: \"map\",\n          style: \"./style.json\",\n          center: center,\n          zoom: 5,\n        });\n        map.addControl(new maplibregl.NavigationControl());\n        map.addControl(\n          new maplibregl.AttributionControl({\n            compact: false,\n            customAttribution:\n              \"Style © \u003ca href='http://openmaptiles.org/'\u003eOpenMapTiles\u003c/a\u003e | \" +\n              \"Data © \u003ca href='http://www.openstreetmap.org/copyright'\u003eOpenStreetMap contributors\u003c/a\u003e\",\n          })\n        );\n      })();\n    \u003c/script\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n"},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]}]},"__N_SSG":true},"page":"/[title]","query":{"title":"How to create your own vector tile web maps"},"buildId":"VxhIUOKDq8cTd4S2_NMpj","assetPrefix":"/scrapbox-nextjs-template","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>