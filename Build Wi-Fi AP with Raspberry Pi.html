<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/scrapbox-nextjs-template/_next/static/css/e526906cee63a70c.css" as="style"/><link rel="stylesheet" href="/scrapbox-nextjs-template/_next/static/css/e526906cee63a70c.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/scrapbox-nextjs-template/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/scrapbox-nextjs-template/_next/static/chunks/webpack-77cf7057eaa8af67.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/main-74ff521f36b121e0.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/pages/_app-e1055fb9c8d316e9.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/664-41844e7ff48658f9.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/chunks/pages/%5Btitle%5D-12c1e5dbd03bca95.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/lbLD_Nyo63TPEI-BqxyzS/_buildManifest.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/lbLD_Nyo63TPEI-BqxyzS/_ssgManifest.js" defer=""></script><script src="/scrapbox-nextjs-template/_next/static/lbLD_Nyo63TPEI-BqxyzS/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="root"><div><h1>Build Wi-Fi AP with Raspberry Pi</h1><div></div><div style="padding:5px 0px"><a href="https://www.raspberrypi.com/documentation/computers/configuration.html#setting-up-a-routed-wireless-access-point">https://www.raspberrypi.com/documentation/computers/configuration.html#setting-up-a-routed-wireless-access-point</a></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1em"><span style="font-size:1em">Install requirements</span></span></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1em"><span style="font-size:1em">Enable </span><a href="hostapd">hostapd</a></span></div><div></div><div></div><div></div><div style="padding:5px 0px"><span style="font-weight:bold;font-size:1em"><span style="font-size:1em">Setup </span><a href="DHCP">DHCP</a><span style="font-size:1em"> and </span><a href="DNS">DNS</a></span></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"lines":[{"type":"title","text":"Build Wi-Fi AP with Raspberry Pi"},{"indent":0,"type":"line","nodes":[{"type":"link","raw":"https://www.raspberrypi.com/documentation/computers/configuration.html#setting-up-a-routed-wireless-access-point","pathType":"absolute","href":"https://www.raspberrypi.com/documentation/computers/configuration.html#setting-up-a-routed-wireless-access-point","content":""}]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* Install requirements]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"Install requirements","text":"Install requirements"}]}]},{"indent":1,"type":"codeBlock","fileName":"bash","content":"sudo apt update\nsudo apt upgrade\nsudo apt install vim\nsudo apt install -y hostapd dnsmasq\nsudo DEBIAN_FRONTEND=noninteractive apt install -y netfilter-persistent iptables-persistent"},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* Enable [hostapd]]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"Enable ","text":"Enable "},{"type":"link","raw":"[hostapd]","pathType":"relative","href":"hostapd","content":""}]}]},{"indent":1,"type":"codeBlock","fileName":"bash","content":" sudo systemctl unmask hostapd\n sudo systemctl enable hostapd"},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[]},{"indent":0,"type":"line","nodes":[{"type":"decoration","raw":"[* Setup [DHCP] and [DNS]]","rawDecos":"*","decos":["*-1"],"nodes":[{"type":"plain","raw":"Setup ","text":"Setup "},{"type":"link","raw":"[DHCP]","pathType":"relative","href":"DHCP","content":""},{"type":"plain","raw":" and ","text":" and "},{"type":"link","raw":"[DNS]","pathType":"relative","href":"DNS","content":""}]}]},{"indent":1,"type":"codeBlock","fileName":"bash","content":"sudo vim /etc/dhcpcd.conf"},{"indent":1,"type":"codeBlock","fileName":"/etc/dhcpcd.conf","content":"interface wlan0\n    static ip_address=192.168.4.1/24\n    nohook wpa_supplicant"},{"indent":1,"type":"codeBlock","fileName":"bash","content":"sudo vim /etc/sysctl.d/routed-ap.conf"},{"indent":1,"type":"codeBlock","fileName":"/etc/sysctl.d/routed-ap.conf","content":"# Enable IPv4 routing\nnet.ipv4.ip_forward=1"},{"indent":1,"type":"codeBlock","fileName":"bash","content":"sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\nsudo netfilter-persistent save"},{"indent":1,"type":"codeBlock","fileName":"bash","content":"sudo mv /etc/dnsmasq.conf /etc/dnsmasq.conf.orig\nsudo vim /etc/dnsmasq.conf"},{"indent":1,"type":"codeBlock","fileName":"/etc/dnsmasq.conf","content":"interface=wlan0 # Listening interface\ndhcp-range=192.168.4.2,192.168.4.20,255.255.255.0,24h\n                # Pool of IP addresses served via DHCP\ndomain=wlan     # Local wireless DNS domain\naddress=/gw.wlan/192.168.4.1\n                # Alias for this router"},{"indent":0,"type":"line","nodes":[]}]},"__N_SSG":true},"page":"/[title]","query":{"title":"Build Wi-Fi AP with Raspberry Pi"},"buildId":"lbLD_Nyo63TPEI-BqxyzS","assetPrefix":"/scrapbox-nextjs-template","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>